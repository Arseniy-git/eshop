{{ define "my_products.html" }}
{{ template "base.html" . }}

<h1>My products</h1>

{{ if not .Products }}
    <p>You don't have any products</p>
{{ else }}
    <div class="container">
        <table>
            <tr>
                <th>Title</th><th>Description</th><th>Price</th><th>Quantity</th>
            </tr>
            {{range .Products}}
            <tr>
                <td>{{.Title}}</td>
                <td>{{.Description}}</td>
                <td>${{printf "%.2f" .Price}}</td>
                <td>{{.Quantity}}</td>
                <td>
                    <a href="/products/edit/{{ .ID }}">Edit</a> |
                    <form method="POST" action="/products/delete/{{ .ID }}" style="display:inline;">
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this product?')">Delete</button>
                    </form>
                </td>
            </tr>
            {{end}}
        </table>
    </div>
{{ end }}

{{ end }}
